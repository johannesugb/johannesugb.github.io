---
title: "JavaScript Test"
# last_modified_at: 2021-03-02T19:00:00+01:00
categories:
#  - Vulkan
tags:
#  - Vulkan
#  - synchronization
# header:
#   image: /assets/images/1500x500.jpg
---

<h1 style="color:green;">
    GeeksForGeeks
</h1>

<p> 
    <!-- Making a text input -->
    <input type="text" id="inputVal" placeholder="Float"/> 
          
    <!-- Button to send data -->
    <button onclick="sendJSON()">Send JSON</button> 
  
  
    <!-- For printing result from server -->
    <p class="result" style="color:green"></p>   
</p>

<script>
function sendJSON(){ 
		
			let result = document.getElementById("resultBox");
			let name = document.querySelector('#name'); 
			let email = document.querySelector('#email'); 
			
			// Creating a XHR object 
			let xhr = new XMLHttpRequest(); 
			let url = "https://godbolt.org/api/compiler/g63/compile"; 
		
			// open a connection 
			xhr.open("POST", url, true); 

			// Set the request header i.e. which type of content you are sending 
			xhr.setRequestHeader("Content-Type", "application/json"); 

			// Create a state change callback 
			xhr.onreadystatechange = function () { 
				if (xhr.readyState === 4 && xhr.status === 200) { 

					// Analyze server result:
					var location = this.responseText.lastIndexOf("####RESULT:");
					if (-1 == location) {
						result.innerHTML = "Something went wrong"; 
					}
					else {
						result.innerHTML = this.responseText.substring(location + "####RESULT:".length()); 
					}
				} 
			}; 

			// Converting JSON data to string 
			var data = JSON.stringify({
    "source": 
"#include <iostream>                                                         \n" +
"#include <algorithm>                                                        \n" +
"float precision_for(float reference) {                                        " +
"	int i = *reinterpret_cast<int*>(&reference);                               " +
"    int j = i+1;                                                              " +
"    float more = *reinterpret_cast<float*>(&j);                               " +
"	int k = i-1;                                                               " +
"	float less = *reinterpret_cast<float*>(&k);                                " +
"    float precision = std::max(more - reference, reference - less);           " +
"	return precision;                                                          " +
"}                                                                             " +
"int main () {                                                                 " +
"	float precision = precision_for({INPUTVAL}f);                              ".replace("{INPUTVAL}", document.getElementById("inputVal").value) +
"    std::cout << \"####RESULT:\" << std::defaultfloat << precision << std::endl;" +
"    return 1;                                                                 " +
"}\n",
    "compiler": "g82",
    "options": {
        "userArguments": "-O3",
        "executeParameters": {
            "args": ["arg1", "arg2"],
            "stdin": "hello, world!"
        },
        "compilerOptions": {
            "executorRequest": true
        },
        "filters": {
            "execute": true
        },
        "tools": [],
        "libraries": [
            {"id": "openssl", "version": "111c"}
        ]
    },
    "lang": "c++",
    "allowStoreCodeDebug": true
}); 

			// Sending data with the request 
			xhr.send(data); 

            document.getElementById("demo").innerHTML ="sent";
		} 

</script>

